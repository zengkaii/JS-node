<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
  <!-- 红色4库存
  蓝色6库存   -->
  <!-- var iphone{
      red:4;
      blue:6;
  }
  select onchange 事件 数量不写。
  提交按钮会禁用 disabled 先禁用 再启用，
  红色 当数量为5 oninput事件 onchange 按钮数据不足，
  disabled
  蓝色 当数量5时 加入购物车 -->
<form action="" method="get">
    <p>
        <label for="color">选择颜色</label>
        <select name="color" id="color">
            <option value="蓝色">蓝色</option>
            <option value="红色">红色</option>
        </select>
    </p>    
    <p>输入购买数量<input type="text" id="number" /></p>
    <p>您选择了颜色: <br/> <label id="getcolor"></label> </p>
    <p>您选择了数量: <br/> <label id="getnumber"></label> </p>

    <button id="sub" disabled>请选择颜色和数量</button>
</form>
      <script>
          var phone={
            red:4,
            blue:6
          }
          const Color= document.querySelector("#color");
          const Number=document.querySelector("#number");
          const getColor=document.querySelector("#getcolor");
          const getNumber=document.querySelector("#getnumber");
          const Sub=document.querySelector("#sub");
          Color.addEventListener('change',function(e){
            showresult();
          },false);
          Number.addEventListener('input',function(e){
            showresult();
          })
          function showresult(e){
              const selectcolor=Color.value;
              getColor.innerHTML=selectcolor;
              const selectnumber=Number.value;
              getNumber.innerHTML=selectnumber;
            //   console.log(blues)
              if(Color.value==='红色'&&Number.value<phone.red){
                  Sub.disabled=false;
                  Sub.innerHTML='放入购物车';
              }else if(Color.value==='红色'&&Number.value>phone.red){
                Sub.disabled=true;
                  Sub.innerHTML='库存不足';
              }if(Color.value==='蓝色'&&Number.value<phone.blue){
                  Sub.disabled=false;
                  Sub.innerHTML='放入购物车';
              }else if(Color.value==='蓝色'&&Number.value>phone.blue){
                 Sub.disabled=true;
                  Sub.innerHTML='库存不足';
              }
              else if(Number.value==''){
                  Sub.disabled=true;
                  Sub.innerHTML='请输入商品数量';
              }
          }
        //   function numberresult(e){
        //       const selectnumber=Number.value;
        //       getNumber.innerHTML=selectnumber;
        //       if(Color.value='红色'&&Number.value<phone.red){
        //           Sub.disabled=false;
        //           Sub.innerHTML='加入购物车';
        //       }else if(Color.value==='红色'&&Number.value>phone.red){
        //             Sub.disabled=true;
        //           Sub.innerHTML='库存不足';
        //       }
            //   Sub.innerHTML=Sub.value;
              
        //   }
        //   Sub.addEventListener('change',function(e){
        //       subresult();
        //   })
        //   function subresult(){
        //       const selectsub=Sub.value;
        //       Sub.innerHTML=selectsub;
        //       if(Color.value==='红色'&&getNumber<phone.red){
        //           Sub.value='加入购物车';
        //       }else if(Color.value==='红色'&&getNumber>phone.red){
        //           Sub.value='库存不足'
        //       }else if(Color.value===''){
        //           Sub.value='请输入正确的购买数量'
        //       }
        //   }
      </script>
</body>
</html>
